<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>Model description - COMOKIT Documentation</title><link rel="shortcut icon" href="https://comokit.org/docs/assets/images/logo.png" type="image/x-icon"><link rel="stylesheet" href="https://comokit.org/docs/assets/css/just-the-docs.css"> <script type="text/javascript" src="https://comokit.org/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="https://comokit.org/docs/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Model description | COMOKIT Documentation</title><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Model description" /><meta property="og:locale" content="en_US" /><meta name="description" content="Documentation pages for COMOKIT" /><meta property="og:description" content="Documentation pages for COMOKIT" /><link rel="canonical" href="https://comokit.org/docs/odd" /><meta property="og:url" content="https://comokit.org/docs/odd" /><meta property="og:site_name" content="COMOKIT Documentation" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Model description" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Documentation pages for COMOKIT","headline":"Model description","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://comokit.org/docs/assets/images/logo.png"}},"url":"https://comokit.org/docs/odd"}</script><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet"><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="https://comokit.org" class="site-title lh-tight"><div class="site-logo" style="background-position: center center;"></div></a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="https://comokit.org/docs/" class="navigation-list-link">Home</a><li class="navigation-list-item"><a href="https://comokit.org/docs/gettingStarted" class="navigation-list-link">Getting Started</a><li class="navigation-list-item"><a href="https://comokit.org/docs/parameterize" class="navigation-list-link">Parameterizing simulations</a><li class="navigation-list-item"><a href="https://comokit.org/docs/setupYourOwn" class="navigation-list-link">Applying COMOKIT</a><li class="navigation-list-item"><a href="https://comokit.org/docs/headless" class="navigation-list-link">Headless execution</a><li class="navigation-list-item active"><a href="https://comokit.org/docs/odd" class="navigation-list-link active">Model description</a><li class="navigation-list-item"><a href="https://comokit.org/docs/officialExtensions" class="navigation-list-link">Official COMOKIT extensions</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="https://comokit.org/docs/officialExtensions/C-Albatross" class="navigation-list-link">COMOKIT Albatross</a></ul><li class="navigation-list-item"><a href="https://comokit.org/docs/press" class="navigation-list-link">Press</a><li class="navigation-list-item"><a href="https://comokit.org/docs/version1" class="navigation-list-link">Version 1.0.1</a><li class="navigation-list-item"><a href="https://comokit.org/docs/version2" class="navigation-list-link">Version 2.0</a></ul></nav></div></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header" id="top"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search COMOKIT Documentation" aria-label="Search COMOKIT Documentation" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://github.com/COMOKIT/COMOKIT-Model">COMOKIT on GitHub</a></ul></div><div class="page"><div id="main-content" class="page-content" role="main"><h1 class="no_toc" id="short-description-of-the-comokit-tookit"> <a href="#short-description-of-the-comokit-tookit" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Short description of the COMOKIT tookit</h1><p>COMOKIT proposes 3 models based on a common foundation, each adapted to a different scale of analysis: the Meso model corresponds to the historical model of COMOKIT and is adapted to simulations at the scale of a neighborhood or a small city. The Micro model allows to represent explicitly the movements of people and is adapted to simulations at the scale of a building or a small set of buildings. Finally, COMOKIT macro, which does not propose an individual representation of people, is adapted to perform large-scale simulations.</p><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#description-of-the-comokit-meso-model" id="markdown-toc-description-of-the-comokit-meso-model">Description of the COMOKIT Meso model</a><ol><li><a href="#overview" id="markdown-toc-overview">Overview</a><ol><li><a href="#purpose" id="markdown-toc-purpose">Purpose</a><li><a href="#entities-state-variables-and-scales" id="markdown-toc-entities-state-variables-and-scales">Entities, state variables, and scales</a><ol><li><a href="#scales" id="markdown-toc-scales">Scales</a><li><a href="#entities" id="markdown-toc-entities">Entities</a></ol><li><a href="#process-overview-and-scheduling" id="markdown-toc-process-overview-and-scheduling">Process overview and scheduling</a></ol><li><a href="#design-concepts" id="markdown-toc-design-concepts">Design Concepts</a><ol><li><a href="#basic-principles" id="markdown-toc-basic-principles">Basic principles</a><li><a href="#interaction" id="markdown-toc-interaction">Interaction</a><li><a href="#collectives" id="markdown-toc-collectives">Collectives</a></ol><li><a href="#details" id="markdown-toc-details">Details</a><ol><li><a href="#built-in-synthetic-population-generator" id="markdown-toc-built-in-synthetic-population-generator">Built-in synthetic population generator</a><li><a href="#synthetic-agenda" id="markdown-toc-synthetic-agenda">Synthetic agenda</a></ol><li><a href="#submodels" id="markdown-toc-submodels">Submodels</a><ol><li><a href="#epidemiological-submodel" id="markdown-toc-epidemiological-submodel">Epidemiological submodel</a><li><a href="#daily-activities" id="markdown-toc-daily-activities">Daily Activities</a><li><a href="#institutions" id="markdown-toc-institutions">Institutions</a></ol></ol><li><a href="#description-of-the-comokit-micro-model" id="markdown-toc-description-of-the-comokit-micro-model">Description of the COMOKIT Micro model</a><ol><li><a href="#overview-1" id="markdown-toc-overview-1">Overview</a><ol><li><a href="#purpose-1" id="markdown-toc-purpose-1">Purpose</a><li><a href="#entities-state-variables-and-scales-1" id="markdown-toc-entities-state-variables-and-scales-1">Entities, state variables, and scales</a><ol><li><a href="#scales-1" id="markdown-toc-scales-1">Scales</a><li><a href="#entities-1" id="markdown-toc-entities-1">Entities</a></ol><li><a href="#process-overview-and-scheduling-1" id="markdown-toc-process-overview-and-scheduling-1">Process overview and scheduling</a></ol><li><a href="#design-concepts-1" id="markdown-toc-design-concepts-1">Design Concepts</a><ol><li><a href="#basic-principles-1" id="markdown-toc-basic-principles-1">Basic principles</a><li><a href="#interaction-1" id="markdown-toc-interaction-1">Interaction</a></ol><li><a href="#details-1" id="markdown-toc-details-1">Details</a><ol><li><a href="#initialization" id="markdown-toc-initialization">Initialization</a></ol><li><a href="#submodels-1" id="markdown-toc-submodels-1">Submodels</a><ol><li><a href="#epidemiological-submodel-1" id="markdown-toc-epidemiological-submodel-1">Epidemiological submodel</a></ol></ol><li><a href="#description-of-the-comokit-macro-model" id="markdown-toc-description-of-the-comokit-macro-model">Description of the COMOKIT Macro model</a><ol><li><a href="#overview-2" id="markdown-toc-overview-2">Overview</a><ol><li><a href="#purpose-2" id="markdown-toc-purpose-2">Purpose</a><li><a href="#entities-state-variables-and-scales-2" id="markdown-toc-entities-state-variables-and-scales-2">Entities, state variables, and scales</a><ol><li><a href="#scales-2" id="markdown-toc-scales-2">Scales</a><li><a href="#entities-2" id="markdown-toc-entities-2">Entities</a></ol><li><a href="#process-overview-and-scheduling-2" id="markdown-toc-process-overview-and-scheduling-2">Process overview and scheduling</a></ol><li><a href="#design-concepts-2" id="markdown-toc-design-concepts-2">Design Concepts</a><ol><li><a href="#basic-principles-2" id="markdown-toc-basic-principles-2">Basic principles</a><li><a href="#interaction-2" id="markdown-toc-interaction-2">Interaction</a></ol><li><a href="#details-2" id="markdown-toc-details-2">Details</a><ol><li><a href="#initialization-1" id="markdown-toc-initialization-1">Initialization</a></ol><li><a href="#submodels-2" id="markdown-toc-submodels-2">Submodels</a><ol><li><a href="#epidemiological-submodel-2" id="markdown-toc-epidemiological-submodel-2">Epidemiological submodel</a><li><a href="#institutions-1" id="markdown-toc-institutions-1">Institutions</a></ol></ol></ol><hr /><h1 id="description-of-the-comokit-meso-model"> <a href="#description-of-the-comokit-meso-model" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Description of the COMOKIT Meso model</h1><p>We describe in this section the COMOKIT Meso model (version 2.0) using the standard O.D.D. protocol (<a href="https://comokit.org/ressources/ODD-COMOKIT_Meso_v2.pdf">the full description is also available</a>).</p><h2 id="overview"> <a href="#overview" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Overview</h2><h3 id="purpose"> <a href="#purpose" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Purpose</h3><p>This model aims at simulating and comparing the application of COVID-19 spread mitigation policies at the scale of a closed commune, the transmission of the disease being modeled at the individual scale. Its purpose is to support deciders and researchers in answering questions such as: Is the containment of a neighborhood more effective than that of an entire village? Does closing schools decrease the transmission peaks ? How does wearing masks impact the dynamics of the epidemy ? How long should a lockdown ideally last ? What proportion of the population should be allowed to undertake activities during a lockdown ?</p><p>Several case studies are provided with the model: two Vietnamese communes of Son Loi (Vinh Phuc, Vietnam) and Thua Duc (Ben Tre, Vietnam); the small town of Castanet Tolosan (near Toulouse, France); and one abstract data sample.</p><p>Beyond these case studies, the model has been designed as a framework generic enough to be applied to any case study as long as the correct input data is provided. In particular, there is a template model ready to be re-used to start applying COMOKIT on a new set of data (see more in <a href="setupYourOwn">setupYourOwn</a>)</p><h3 id="entities-state-variables-and-scales"> <a href="#entities-state-variables-and-scales" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Entities, state variables, and scales</h3><h4 id="scales"> <a href="#scales" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Scales</h4><p>The simulation model have been designed to be executed at the scale of a commune (around 10km2 and 10k inhabitants) but there is no limitation on the scale of the model except computer power to be simulated. The smallest considered spatial units are individual buildings.</p><p>The simulations are not launched from a specific starting date, but rather from the introduction of the first infected cases in the population and will run until the end of the epidemic. The simulation step is set to 1 hour.</p><h4 id="entities"> <a href="#entities" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Entities</h4><p>The core entity of the model is the <code class="language-plaintext highlighter-rouge">Individual</code> agents (or species): it represents individual inhabitants of the commune with their individual characteristics (age, sex, employment status) and their epidemiological status and related variables. They perform their daily activities depending on their personal agenda. This agenda is a generated set of <code class="language-plaintext highlighter-rouge">Activity</code> that can be shared by several individuals (e.g. going to a restaurant with some friends), depending on the age and family status of the <code class="language-plaintext highlighter-rouge">Individual</code> agent. <code class="language-plaintext highlighter-rouge">Individual</code> agents’ attributes include their relatives (i.e. the household), their friends , their colleagues (or classmates) and their home, working place and school <code class="language-plaintext highlighter-rouge">Building</code>.</p><p><code class="language-plaintext highlighter-rouge">Building</code> agents are spatial entities where the <code class="language-plaintext highlighter-rouge">Individual</code> agents can perform an <code class="language-plaintext highlighter-rouge">Activity</code>, whether this <code class="language-plaintext highlighter-rouge">Activity</code> depending on the <code class="language-plaintext highlighter-rouge">Building</code> type. Two special <code class="language-plaintext highlighter-rouge">Building</code> kinds have been defined as they have an important role in the simulation: <code class="language-plaintext highlighter-rouge">outside</code>, that represents everything outside the studied area, and <code class="language-plaintext highlighter-rouge">Hospital</code>, where sick <code class="language-plaintext highlighter-rouge">Individual</code> agents with critical symptoms can be contained and healed.</p><p>The <code class="language-plaintext highlighter-rouge">Individual</code> hourly behavior is driven by their agenda attribute that associates to some hours of the day an <code class="language-plaintext highlighter-rouge">Activity</code>. <code class="language-plaintext highlighter-rouge">Individuals</code> have preferences for activities that can be parametrized according to their age and sex : for a leisure activity, a child may prefer to go to a game center while an older person may prefer to go to a movie theater. The <code class="language-plaintext highlighter-rouge">Building</code> place to carry out an activity can be elicited at random (uniformly), choosing the closest one, or following a probability as a negative function of distance and positive function of area of the targeted place.</p><p>We have also defined additional specific <code class="language-plaintext highlighter-rouge">Activity</code> species to represent the main classical kinds of <code class="language-plaintext highlighter-rouge">Activity</code>: <code class="language-plaintext highlighter-rouge">visiting_neighbor, working, staying_home, studying, visiting_friend</code>. Of course, customs activities can also be created from the generic <code class="language-plaintext highlighter-rouge">Activity</code> species.</p><h3 id="process-overview-and-scheduling"> <a href="#process-overview-and-scheduling" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Process overview and scheduling</h3><p>The dynamics of the model can be summarized by three main dynamics: the epidemic dynamics, the hourly activities of the <code class="language-plaintext highlighter-rouge">Individual</code> agents and the dynamics of policy adoption and application.</p><p>Considering the epidemic dynamics, there are two different pathways of infection for <code class="language-plaintext highlighter-rouge">Individual</code> agents: either through <code class="language-plaintext highlighter-rouge">Individual</code>-to-<code class="language-plaintext highlighter-rouge">Individual</code> transmission, or through persistence of the virus in the environment.</p><p>A simulation step starts by the <code class="language-plaintext highlighter-rouge">Individual</code> agents checking whether they are infected or infect other <code class="language-plaintext highlighter-rouge">Individuals</code>. They then update their epidemic status and their individual behavior related to mask wearing. Next, they execute their daily activities (depending on <code class="language-plaintext highlighter-rouge">Authority</code> allowances). Finally, the <code class="language-plaintext highlighter-rouge">Authority</code> agent checks its current <code class="language-plaintext highlighter-rouge">Policy</code> and apply it.</p><h2 id="design-concepts"> <a href="#design-concepts" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Design Concepts</h2><h3 id="basic-principles"> <a href="#basic-principles" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Basic principles</h3><p>As far as the epidemiological dynamics is concerned, we rely on a SEIR model with an infectious state that can be presymptomatic, symptomatic or asymptomatic, with a certain degree of survivability of the virus in the environment.</p><p>The <code class="language-plaintext highlighter-rouge">Individual</code> agents’ behavior is described using an activity-based approach: people have a set of activities associated with some day hours. This agenda makes the agents move from <code class="language-plaintext highlighter-rouge">Building</code> to <code class="language-plaintext highlighter-rouge">Building</code> (due to the 1-hour step of the simulation).</p><h3 id="interaction"> <a href="#interaction" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Interaction</h3><p><code class="language-plaintext highlighter-rouge">Individual</code> agents can infect other <code class="language-plaintext highlighter-rouge">Individual</code> agents directly through contact or indirectly through building contamination: the virus can survive in the <code class="language-plaintext highlighter-rouge">Building</code> for a period of time. Interactions between <code class="language-plaintext highlighter-rouge">Individual</code> agents and the <code class="language-plaintext highlighter-rouge">Authority</code> agents occur in both directions.</p><h3 id="collectives"> <a href="#collectives" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Collectives</h3><p><code class="language-plaintext highlighter-rouge">Individual</code> agents are part of several agents collectives: relatives, friends, colleagues, activity fellows. Nevertheless these collectives are not agentified with a specific behavior. The only impact is on the transmission in a same <code class="language-plaintext highlighter-rouge">building</code>. The main idea is that individuals in the same building will not have the same number of contacts with all the individuals in a (working or home) building. They thus have more chances to infect close colleagues or relatives.</p><h2 id="details"> <a href="#details" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Details</h2><h3 id="built-in-synthetic-population-generator"> <a href="#built-in-synthetic-population-generator" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Built-in synthetic population generator</h3><p>The synthetic population of agents comprises three dimensions of agent attributes to be generated: <em>demographic variables</em>, including <code class="language-plaintext highlighter-rouge">age, sex</code>, employment status (<code class="language-plaintext highlighter-rouge">is_unemployed</code>) and households (<code class="language-plaintext highlighter-rouge">household_id</code>), <em>social network variables</em>, including the lists of <code class="language-plaintext highlighter-rouge">friends, colleagues or classmates</code>, and lastly <em>mobility variables</em> including activity timeline and corresponding activity locations (<code class="language-plaintext highlighter-rouge">agenda_week</code>). In this version of the model, only demographic variables can be initialized from an external csv file generated by an external synthetic population generator. The other variables are generated from a COMOKIT built-in generator.</p><p>For the external synthetic population generator, we choose to use the Gen* generator (that can also be coupled with the <a href="https://github.com/ANRGenstar/genstar.gamaplugin">GAMA platform</a>):</p><blockquote><p>Chapuis, K., Taillandier, P., Renaud, M., &amp; Drogoul, A. (2018). Gen*: a generic toolkit to generate spatially explicit synthetic populations. International Journal of Geographical Information Science, 32(6), 1194-1210.</p></blockquote><h3 id="synthetic-agenda"> <a href="#synthetic-agenda" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Synthetic agenda</h3><p>Each agent of the model has its own set of timely organized activities, i.e. a synthetic agenda. The generation of agendas is based on demographic attributes of the agent, such as sex, age and employment status, and the specification of workdays and days off during the week.</p><h2 id="submodels"> <a href="#submodels" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Submodels</h2><h3 id="epidemiological-submodel"> <a href="#epidemiological-submodel" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Epidemiological submodel</h3><p>The epidemiological model is based on the SEIR model with an infectious state that can be presymptomatic, symptomatic or asymptomatic. Once the infectious period is over, <code class="language-plaintext highlighter-rouge">Individual</code> agents reach the Removed (R) state, representing the fact that the <code class="language-plaintext highlighter-rouge">Individual</code> has been infected, but is not infectious anymore. To represent deaths and recoveries, we decided to consider the current clinical status of the Individual agent: when it becomes symptomatic, an <code class="language-plaintext highlighter-rouge">Individual</code> will first need hospitalisation, and then (with a given probability) ICU. If the Individual agent is not being taken to a <code class="language-plaintext highlighter-rouge">Hospital</code> before the end of its expected period needing ICU, it will be considered as dead due to lack of treatment. In the case, it went to ICU when needed, it has a probability to recover.</p><p>The various (incubation…) periods and probabilities are <code class="language-plaintext highlighter-rouge">Individual</code>dependent and are randomly picked following various distributions.</p><h3 id="daily-activities"> <a href="#daily-activities" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Daily Activities</h3><p>Once weekly and daily agendas have been created at initialization, <code class="language-plaintext highlighter-rouge">Individual</code> agents have only to get, at each simulation step, the <code class="language-plaintext highlighter-rouge">Activity</code> corresponding to the current day and current hour, asks the <code class="language-plaintext highlighter-rouge">Authority</code> agent’s authorization to perform it, finds a <code class="language-plaintext highlighter-rouge">building</code> associated with the <code class="language-plaintext highlighter-rouge">Activity</code>, and moves in it. In addition, the agent will ask the <code class="language-plaintext highlighter-rouge">Authority</code> for the number of individuals it can perform the <code class="language-plaintext highlighter-rouge">Activity</code> with.</p><h3 id="institutions"> <a href="#institutions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Institutions</h3><p>The <code class="language-plaintext highlighter-rouge">Authority</code> agent is in charge of applying one or several mitigation policies on the whole case study or on some local spaces. The policies can impact the simulation in two ways. Every step, the <code class="language-plaintext highlighter-rouge">Authority</code> can proactively perform some actions encoded in the policy, e.g. conduct a given number of tests on the population. On the other hand, each <code class="language-plaintext highlighter-rouge">Individual</code> agent asks the <code class="language-plaintext highlighter-rouge">Authority</code> whether it is allowed to execute a given <code class="language-plaintext highlighter-rouge">Activity</code>. In this case, the <code class="language-plaintext highlighter-rouge">Authority</code> will make its choice based on what is allowed by its policies that are currently applied.</p><hr /><h1 id="description-of-the-comokit-micro-model"> <a href="#description-of-the-comokit-micro-model" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Description of the COMOKIT Micro model</h1><p>We describe in this section the COMOKIT Micro model (version 2.0) using the standard O.D.D. protocol (<a href="https://comokit.org/ressources/ODD-COMOKIT_Micro_v2.pdf">the full description is also available</a>).</p><h2 id="overview-1"> <a href="#overview-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Overview</h2><h3 id="purpose-1"> <a href="#purpose-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Purpose</h3><p>This model aims at simulating and comparing the application of COVID-19 spread mitigation policies at the scale of a building or a small set of buildings, the transmission of the disease being modeled at the individual scale. Its purpose is to support deciders and researchers in answering questions such as: Is the containment of some rooms more effective than that of an entire floor? What is the impact of wearing masks on the dynamics of the epidemic? What should be the maximum density to limit spread? What proportion of the population should be allowed to undertake activities during a lockdown?</p><p>Two case studies are provided with the model: one concerning a classic office with a second building representing the office restaurant; one concerning the hospital of Danang.</p><h3 id="entities-state-variables-and-scales-1"> <a href="#entities-state-variables-and-scales-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Entities, state variables, and scales</h3><h4 id="scales-1"> <a href="#scales-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Scales</h4><p>The simulations are executed at the scale of a set of buildings. The smallest considered spatial units are individual rooms.</p><p>The simulations are not launched from a specific starting date, but rather from the introduction of the first infected cases in the population and will run until the end of the epidemic. The simulation step is set to 1 minute.</p><h4 id="entities-1"> <a href="#entities-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Entities</h4><p>The model is designed to simulate the COVID-19 spread at the individual scale. As a consequence, the core entity of the model is the <code class="language-plaintext highlighter-rouge">Individual</code> kind of agents (or species): it represents individual users of the buildings with their individual characteristics (age, sex, employment status) and their epidemiological status, whether they have been tested, and other epidemiological individual-dependent values (e.g. latent_time, infectious_time … c.f. the epidemiological submodel description for more details). They perform their daily activities (including going to their office, going to the restaurant, going to the meeting room…) depending on their personal agenda. This agenda is a generated set of Activity.</p><p><code class="language-plaintext highlighter-rouge">Room</code> agents are spatial entities where the <code class="language-plaintext highlighter-rouge">Individual</code> agents can perform an <code class="language-plaintext highlighter-rouge">Activity</code>. A <code class="language-plaintext highlighter-rouge">Room</code> has one or several <code class="language-plaintext highlighter-rouge">RoomEntry</code> agents and several <code class="language-plaintext highlighter-rouge">Wall</code> agents. It is located at a specific floor of a <code class="language-plaintext highlighter-rouge">Building</code> agent. A specific type of <code class="language-plaintext highlighter-rouge">Room</code> is <code class="language-plaintext highlighter-rouge">Elevator</code>, allowing <code class="language-plaintext highlighter-rouge">Individual</code> agents to pass from one floor to another one. In addition to <code class="language-plaintext highlighter-rouge">Room</code> agents, a <code class="language-plaintext highlighter-rouge">Building</code> agent has one or several <code class="language-plaintext highlighter-rouge">BuildingEntry</code> agents. The global environment is characterized by <code class="language-plaintext highlighter-rouge">Building</code> agents, but also by one or several <code class="language-plaintext highlighter-rouge">AreaEntry</code> agents and by <code class="language-plaintext highlighter-rouge">PedestrianPath</code> agents representing the path that <code class="language-plaintext highlighter-rouge">Individual</code> agents can follow to move.</p><p>The <code class="language-plaintext highlighter-rouge">Individual</code> agent’s behavior is driven by their agenda attribute that associates to some date an <code class="language-plaintext highlighter-rouge">Activity</code>. An <code class="language-plaintext highlighter-rouge">Activity</code> is mainly a way to choose the spatial unit(s) in which the <code class="language-plaintext highlighter-rouge">Individual</code> agents have to be located or to move to at each simulation step. the last type of spatial entity are the <code class="language-plaintext highlighter-rouge">UnitCell</code> agents, which allow to take into account the environmental contamination</p><p>We have also defined additional specific <code class="language-plaintext highlighter-rouge">Activity</code> species to represent the main classical kinds of <code class="language-plaintext highlighter-rouge">Activity</code>: <code class="language-plaintext highlighter-rouge">ActivityLeaveArea</code>, <code class="language-plaintext highlighter-rouge">ActivityGotoOffice</code>, <code class="language-plaintext highlighter-rouge">ActivityGotoRestaurant</code>, <code class="language-plaintext highlighter-rouge">ActivityGotoRoom</code>. Of course, customs activities can also be created from the generic <code class="language-plaintext highlighter-rouge">Activity</code> species.</p><h3 id="process-overview-and-scheduling-1"> <a href="#process-overview-and-scheduling-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Process overview and scheduling</h3><p>The model simulates the spread of the COVID-19 in a population at the individual level. The dynamics of the model can be summarized by two main dynamics: the epidemic dynamics and the activities of the <code class="language-plaintext highlighter-rouge">Individual</code> agents, following their agenda.</p><p>There are three different pathways of infection for <code class="language-plaintext highlighter-rouge">Individual</code> agents: either through Individual-to-Individual transmission, through persistence of the virus in the air, and through persistence of the virus on the physical objects. When an infectious Individual is located in a building, it can release a virus load on the unit cell it is located in, which can survive several hours. In addition, it can release a virus load in the room it is located in. Individuals who will come to this unit cell/room can thus become infected by the viral load present in the unit cell/room itself. As soon as an <code class="language-plaintext highlighter-rouge">Individual</code> is infected, its epidemic status will be described by a set of states and transitions (given probabilities taken from the up-to-date COVID-19 literature).</p><p>A simulation step starts by the evolution of the viral load in the unit cells and in the rooms (it decreases over time, before disappearing). Then the <code class="language-plaintext highlighter-rouge">Individual</code> agents behave. They first evaluate whether they are infected or infect other <code class="language-plaintext highlighter-rouge">Individual</code> agents or release virus load in their current unit cell/room. They then update their epidemic status (given the model detailed in the Sub-model Section) and their individual behavior related to mask wearing. Finally they execute their activities: they find the activity corresponding to the current time, and act in accordance.</p><h2 id="design-concepts-1"> <a href="#design-concepts-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Design Concepts</h2><h3 id="basic-principles-1"> <a href="#basic-principles-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Basic principles</h3><p>As far as the epidemiological dynamics is concerned, we rely on much scientific evidence that the disease could be represented by a SEIR model with an infectious state that can be presymptomatic, symptomatic or asymptomatic, with a certain degree of survivability of the virus in the environment and the possibility of people being infected by it.</p><p>The <code class="language-plaintext highlighter-rouge">Individual</code> agents’ behavior is described using an activity-based approach: people have a set of activities associated with some corresponding time. This agenda makes the agents move from room to room (and eventually from building to building) and enter/leave the simulated area.</p><h3 id="interaction-1"> <a href="#interaction-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Interaction</h3><p><code class="language-plaintext highlighter-rouge">Individual</code> agents can infect other <code class="language-plaintext highlighter-rouge">Individual</code> agents directly through contact or indirectly through room and/or unit cell contamination: Infectious <code class="language-plaintext highlighter-rouge">Individual</code> agents can release a viral load in a unit cell and/or in a room agent and, as the virus can survive in the <code class="language-plaintext highlighter-rouge">Building</code> for a period of time, a unit cell and a room agent with a viral load will possibly infect the <code class="language-plaintext highlighter-rouge">Individual</code> agents located in it, following the assumption that contaminated surfaces such as doorknobs, tables, on which the virus can survive, are possible transmission pathways.</p><h2 id="details-1"> <a href="#details-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Details</h2><h3 id="initialization"> <a href="#initialization" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Initialization</h3><p>In order to keep the model as generic as possible, many parameters and initial values are stored in case-dependent external files. Two parameter files for epidemiological model and activity types links to building types are stored in a general purpose parameter folder. In order to use them in a custom version of COMOKIT, users should either redefine them or give the path to this folder relative to the new project.</p><h2 id="submodels-1"> <a href="#submodels-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Submodels</h2><h3 id="epidemiological-submodel-1"> <a href="#epidemiological-submodel-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Epidemiological submodel</h3><p>The epidemiological model is based on the SEIR model with an infectious state that can be presymptomatic, symptomatic or asymptomatic. Once the infectious period is over, <code class="language-plaintext highlighter-rouge">Individual</code> agents reach the Removed (R) state, representing the fact that the <code class="language-plaintext highlighter-rouge">Individual</code> has been infected, but is not infectious anymore. To represent deaths and recoveries, we decided to consider the current clinical status of the Individual agent: when it becomes symptomatic, an <code class="language-plaintext highlighter-rouge">Individual</code> will first need hospitalisation, and then (with a given probability) ICU. If the Individual agent is not being taken to a <code class="language-plaintext highlighter-rouge">Hospital</code> before the end of its expected period needing ICU, it will be considered as dead due to lack of treatment. In the case, it went to ICU when needed, it has a probability to recover.</p><p>The various (incubation…) periods and probabilities are <code class="language-plaintext highlighter-rouge">Individual</code>dependent and are randomly picked following various distributions.</p><hr /><h1 id="description-of-the-comokit-macro-model"> <a href="#description-of-the-comokit-macro-model" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Description of the COMOKIT Macro model</h1><p>We describe in this section the COMOKIT Macro model (version 2.0) using the standard O.D.D. protocol (<a href="https://comokit.org/ressources/ODD-COMOKIT_Macro_v2.pdf">the full description is also available</a>).</p><h2 id="overview-2"> <a href="#overview-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Overview</h2><h3 id="purpose-2"> <a href="#purpose-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Purpose</h3><p>This model aims at simulating and comparing the application of COVID-19 spread mitigation policies at the scale of a big city or a country, the transmission of the disease being modeled at the scale of individual groups. Its purpose is to support decision makers and researchers in answering questions such as: Is the containment of a neighborhood more effective than that of an entire city? Does closing schools decrease the transmission peaks ? How does wearing masks impact the dynamics of the epidemic ? How long should a lockdown ideally last ? What proportion of the population should be allowed to undertake activities during a lockdown ?</p><p>One case study is provided with the model: the province (Région) of Alpes-Maritimes in France.</p><h3 id="entities-state-variables-and-scales-2"> <a href="#entities-state-variables-and-scales-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Entities, state variables, and scales</h3><h4 id="scales-2"> <a href="#scales-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Scales</h4><p>The model has been designed to be adapted to any scale and in particular to city and country scales. The spatial units considered can represent an individual building, a neighborhood, a city, a region or even a country.</p><p>The simulations are not launched from a specific starting date, but rather from the introduction of the first infected cases in the population and will run until the end of the epidemic. The simulation step is by default set to 1 hour (but it is possible to take into account a less fine time step). As a consequence, movements from one activity place to another one are not simulated: groups of individuals are always located in an activity place. The underlying assumption is that no infection cannot occur during the travel time.</p><h4 id="entities-2"> <a href="#entities-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Entities</h4><p>The model is designed to simulate the COVID-19 spread at the individual group scale. As a consequence, the core entity of the model is <code class="language-plaintext highlighter-rouge">Group</code> type of agents (or species): it represents a homogenous group of individual inhabitants that share similar characteristics with respect to the disease and governance response (incubation time, likelihood of hospitalization, likelihood of wearing a mask, likelihood of following restrictions…). A Group allows to know for each epidemiological status (susceptible, latent, pre-symptomatic, symptomatic, asymptomatic…), the number of individuals in the group with that status. To take into account the temporal evolution of the disease, the number of individuals in each status is not kept as a simple integer, but as a table, each cell of the table corresponds to one day, e.g. the integer in the second cell of the table corresponding to the latent status corresponds to the number of individuals in the latent status for 2 days.</p><p>Another important type of agent is <code class="language-plaintext highlighter-rouge">Compartment</code>, which is an encapsulation of a Group, which represents a group of inhabitants living in the same Spatial_unit and which shares the same agenda. The agenda describes, depending on the day of the week and the time of day, the number of people in the <code class="language-plaintext highlighter-rouge">Compartment</code> who will go to each <code class="language-plaintext highlighter-rouge">Spatial_unit</code>, to perform this or that type of activity in the different types of buildings.</p><p><code class="language-plaintext highlighter-rouge">Spatial_unit</code> agents are spatial entities where the individuals can perform an activity. They are characterized by a set of <code class="language-plaintext highlighter-rouge">Compartment</code> agents representing the inhabitants of the area, by a set of building types and for each one by the area that it represents, and finally by a set of <code class="language-plaintext highlighter-rouge">Group</code> agents representing at the current time step the individuals that are located in the area for each type of building.</p><p>As our main goal is to simulate and compare the application of various mitigation and control policies, a specific focus is made on policies that modify the population behavior to reduce contacts and thus infection between people. As a consequence, the possibility for individuals of <code class="language-plaintext highlighter-rouge">Compartment</code> agents to carry out an activity in a given <code class="language-plaintext highlighter-rouge">Spatial_unit</code> and building type is constrained by the allowance of the <code class="language-plaintext highlighter-rouge">Authority</code> agent. This agent manages the various <code class="language-plaintext highlighter-rouge">Policy</code> that are adopted. When a <code class="language-plaintext highlighter-rouge">Compartment</code> agent asks it for authorization to perform an activity, the <code class="language-plaintext highlighter-rouge">Authority</code> asks all the policies it has adopted the allowance rate for the <code class="language-plaintext highlighter-rouge">Compartment</code> to do the given <code class="language-plaintext highlighter-rouge">Activity</code>. Examples of <code class="language-plaintext highlighter-rouge">Policy</code> include total containment, close the schools, close the work spaces… These policies can be limited to a given area (using <code class="language-plaintext highlighter-rouge">SpatialPolicy</code>) or be more or less tolerant (e.g. containment can be for every body or for every body but some people, or some rate of the population, using <code class="language-plaintext highlighter-rouge">PartialPolicy</code>).</p><h3 id="process-overview-and-scheduling-2"> <a href="#process-overview-and-scheduling-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Process overview and scheduling</h3><p>The dynamics of the model can thus be summarized by four main dynamics: the epidemic status updating of <code class="language-plaintext highlighter-rouge">Compartment</code> agents, the activities of the Compartment agents, the disease spreading, and the dynamics of policy adoption and application.</p><p>At the beginning of each new day, the epidemiological status of the group of each Compartment agent is updated. More precisely, for each epidemiological status, the number of individuals in each cell will be transferred to the next cell, corresponding to the next day. For the number of individuals in the last cell, transition rates to new statuses are used to know to which status these individuals will be transferred.</p><p>The most important dynamic, which is triggered at each simulation step, is the movement of individuals to conduct their activity. More precisely, each Compartment agent will calculate according to its agenda and current policies the number of individuals who will go to each <code class="language-plaintext highlighter-rouge">Spatial_unit</code> agent to conduct their activity in a given type of building. This number will then be managed as a group agent located in the target <code class="language-plaintext highlighter-rouge">Spatial_unit</code> agent and linked to a building type. The set of these groups will then allow to calculate the number of susceptible individuals that will be infected for each <code class="language-plaintext highlighter-rouge">Compartment</code> agent.</p><p>Finally, the <code class="language-plaintext highlighter-rouge">Authority</code> agent checks its current <code class="language-plaintext highlighter-rouge">Policy</code> and tries to apply it (e.g. executing a test campaign for example).</p><h2 id="design-concepts-2"> <a href="#design-concepts-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Design Concepts</h2><h3 id="basic-principles-2"> <a href="#basic-principles-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Basic principles</h3><p>As far as the epidemiological dynamics is concerned, we rely on much scientific evidence that the disease could be represented by a SEIR model with an infectious state that can be presymptomatic, symptomatic or asymptomatic, with a certain degree of survivability of the virus in the environment and the possibility of people being infected by it.</p><p>The individual group agents’ behavior is described using an activity-based approach: people have a set of activities associated with some day hours. This agenda makes the individuals in the group jump between spatial units and types of buildings.</p><h3 id="interaction-2"> <a href="#interaction-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Interaction</h3><p>The first type of interaction is the dynamics of contamination. <code class="language-plaintext highlighter-rouge">Group</code> agents in the same spatial unit and in the same types of buildings will contaminate each other. Interactions between Compartment agents and the <code class="language-plaintext highlighter-rouge">Authority</code> agents occur in both directions: Compartment agents ask the <code class="language-plaintext highlighter-rouge">Authority</code>’s authorization to execute a given <code class="language-plaintext highlighter-rouge">Activity</code> and reversely the <code class="language-plaintext highlighter-rouge">Authority</code> agents can apply a <code class="language-plaintext highlighter-rouge">Policy</code> to check the epidemic state of the individuals inside the <code class="language-plaintext highlighter-rouge">Compartment</code> agents.</p><h2 id="details-2"> <a href="#details-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Details</h2><h3 id="initialization-1"> <a href="#initialization-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Initialization</h3><p>In order to keep the model as generic as possible, many parameters and initial values are stored in case-dependent external files. A parameter file for the epidemiological model is stored in a general purpose parameter folder. In order to use it in a custom version of COMOKIT, users should either redefine them or give the path to this folder relative to the new project (for example, see Template Projects in COMOKIT).</p><h2 id="submodels-2"> <a href="#submodels-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Submodels</h2><h3 id="epidemiological-submodel-2"> <a href="#epidemiological-submodel-2" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Epidemiological submodel</h3><p>The epidemiological model is based on the SEIR model with an infectious state that can be presymptomatic, symptomatic or asymptomatic. Once the infectious period is over, <code class="language-plaintext highlighter-rouge">Individual</code> agents reach the Removed (R) state, representing the fact that the <code class="language-plaintext highlighter-rouge">Individual</code> has been infected, but is not infectious anymore. To represent deaths and recoveries, we decided to consider the current clinical status of the Individual agent: when it becomes symptomatic, an <code class="language-plaintext highlighter-rouge">Individual</code> will first need hospitalisation, and then (with a given probability) ICU. If the Individual agent is not being taken to a <code class="language-plaintext highlighter-rouge">Hospital</code> before the end of its expected period needing ICU, it will be considered as dead due to lack of treatment. In the case, it went to ICU when needed, it has a probability to recover.</p><p>The various (incubation…) periods and probabilities are <code class="language-plaintext highlighter-rouge">Individual</code>dependent and are randomly picked following various distributions.</p><h3 id="institutions-1"> <a href="#institutions-1" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Institutions</h3><p>The <code class="language-plaintext highlighter-rouge">Authority</code> agent is in charge of applying one or several mitigation policies on the whole case study or on some local spaces. The policies can impact the simulation in two ways. Every step, the <code class="language-plaintext highlighter-rouge">Authority</code> can proactively perform some actions encoded in the policy, e.g. conduct a given number of tests on the population. On the other hand, each <code class="language-plaintext highlighter-rouge">Individual</code> agent asks the <code class="language-plaintext highlighter-rouge">Authority</code> whether it is allowed to execute a given <code class="language-plaintext highlighter-rouge">Activity</code>. In this case, the <code class="language-plaintext highlighter-rouge">Authority</code> will make its choice based on what is allowed by its policies that are currently applied.</p><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2023 COMOKIT. Distributed by an <a href="https://github.com/COMOKIT/COMOKIT-Model/tree/master/LICENSE">GPL 3-0 license.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/COMOKIT/COMOKIT-Website/edit/master/docs/docs/ODD.md" id="edit-this-page" target="_blank">Edit this page on GitHub</a></p></div></footer></div></div></div></div>
